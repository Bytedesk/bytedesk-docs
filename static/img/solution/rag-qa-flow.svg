<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
    <!-- 背景 -->
    <rect width="800" height="500" fill="#f9f9f9"/>
    
    <!-- 标题 -->
    <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">RAG知识库问答流程</text>
    
    <!-- 用户图标 -->
    <circle cx="100" cy="120" r="30" fill="#64B5F6"/>
    <path d="M100,100 a15,15 0 0,1 0,30 a15,15 0 0,1 0,-30" fill="#1976D2"/>
    <circle cx="90" cy="110" r="4" fill="white"/>
    <circle cx="110" cy="110" r="4" fill="white"/>
    <path d="M90,125 a15,10 0 0,0 20,0" stroke="white" stroke-width="2" fill="none"/>
    
    <!-- 知识库图标 -->
    <rect x="650" y="100" width="60" height="80" rx="5" fill="#81C784"/>
    <rect x="660" y="110" width="40" height="10" fill="white"/>
    <rect x="660" y="125" width="40" height="10" fill="white"/>
    <rect x="660" y="140" width="40" height="10" fill="white"/>
    <rect x="660" y="155" width="40" height="10" fill="white"/>
    
    <!-- AI模型图标 -->
    <circle cx="400" cy="250" r="60" fill="#BA68C8"/>
    <text x="400" y="245" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">LLM</text>
    <text x="400" y="265" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white">大语言模型</text>
    
    <!-- 响应图标 -->
    <rect x="100" y="380" width="200" height="80" rx="10" fill="#FFB74D"/>
    <text x="200" y="425" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">基于知识库的精准回答</text>
    
    <!-- 流程箭头 -->
    <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#666"/>
        </marker>
    </defs>
    
    <!-- 用户提问箭头 -->
    <line x1="140" y1="120" x2="350" y2="210" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="240" y="140" font-family="Arial, sans-serif" font-size="14" fill="#333">1. 用户提问</text>
    
    <!-- 检索箭头 -->
    <line x1="450" y1="220" x2="640" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="560" y="170" font-family="Arial, sans-serif" font-size="14" fill="#333">2. 检索相关知识</text>
    
    <!-- 知识回流箭头 -->
    <line x1="640" y1="180" x2="450" y2="240" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="540" y="220" font-family="Arial, sans-serif" font-size="14" fill="#333">3. 提供相关内容</text>
    
    <!-- 生成回答箭头 -->
    <line x1="350" y1="290" x2="210" y2="370" stroke="#666" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="240" y="350" font-family="Arial, sans-serif" font-size="14" fill="#333">4. 生成回答</text>
    
    <!-- RAG说明 -->
    <rect x="500" y="320" width="250" height="120" rx="10" fill="#E1BEE7" opacity="0.8"/>
    <text x="625" y="340" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">RAG工作原理</text>
    <text x="625" y="365" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">- 向量化存储企业文档和知识</text>
    <text x="625" y="385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">- 语义相似度检索相关内容</text>
    <text x="625" y="405" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">- 大语言模型结合知识生成回答</text>
    <text x="625" y="425" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">- 确保回答准确性和可追溯性</text>
    
    <line x1="460" y1="280" x2="500" y2="320" stroke="#9C27B0" stroke-width="1" stroke-dasharray="5,5"/>
</svg>
