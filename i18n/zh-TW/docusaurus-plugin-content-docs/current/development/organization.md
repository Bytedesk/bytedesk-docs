---
sidebar_label: 組織管理
sidebar_position: 48
---

# 組織管理

微語（Bytedesk）裡的「組織」，可以理解為一個獨立的企業/團隊空間。一個組織用來管理：

- 組織是否可用（啟用/停用）
- 會員是否在有效期內（可選擇到期後是否限制登入）
- 組織規模上限（例如允許同時登入的成員數、坐席數、工作組數）

當使用者登入後，系統會根據「當前所在組織」的狀態做檢查，決定是否允許繼續使用。

## 組織的核心資訊

組織有一些基礎資訊，用於展示與搜尋：

- 組織名稱
- 組織頭像/Logo
- 組織代碼（便於搜尋）
- 組織描述

## 組織狀態：啟用/停用

組織可以被設定為「啟用」或「停用」。

當組織被停用時，成員登入後：

- 會看到提示：組織已停用
- 點擊確定後，系統會自動登出（避免繼續使用）

## 會員有效期：到期後是否禁止登入

組織可以設定「會員截止日期」（也可以理解為組織有效期）。同時，還可以選擇：到期後是否要限制登入。

規則如下：

1. 如果關閉「到期後限制登入」：即使到期，也不強制攔截登入。
2. 如果開啟「到期後限制登入」，且目前時間已超過截止日期：成員登入後會看到提示「組織已到期/不在有效期內」，點擊確定後系統自動登出。

## 預設組織的特殊規則

系統內建一個「預設組織」，主要用於內建與相容場景。

預設組織有兩條特殊規則：

- 不做「到期限制登入」檢查：不會因為組織有效期到期而限制登入
- 不允許把預設組織設定為不可用：不允許對預設組織設定「停用」或「到期後限制登入」等會導致無法使用的狀態

## 組織配額：成員/坐席/工作組上限

組織可以限制規模與資源上限（可理解為「配額」）：

- 成員上限（預設 20）
- 客服坐席上限（預設 20）
- 工作組上限（預設 20）

### 登入時的成員數檢查

系統會記錄登入情況，並在使用者登入後檢查：

- 當前組織「正在登入使用的成員數量」是否超過成員上限

如果超過：

- 會彈窗提示：超過允許登入最大成員數
- 點擊確定後系統自動登出

說明（多端登入口徑）：

- 同一個人即使在多個裝置同時登入，也只算 1 個成員

## 登入後檢查順序

當使用者登入並載入到「當前組織」資訊後，建議按以下順序做檢查：

1. 如果當前組織是預設組織：跳過「停用」與「到期後限制登入」的檢查（但仍可展示組織基礎資訊）。
2. 如果組織已停用：提示「組織已停用」，確定後登出。
3. 如果開啟了「到期後限制登入」，且已到期：提示「組織已到期/不在有效期內」，確定後登出。
4. 如果當前已登入成員數超過成員上限：提示「超過允許登入最大成員數」，確定後登出。

:::info 開發備註

- 當前組織：`userInfo.currentOrganization`
- 預設組織 UID：`df_org_uid`（`BytedeskConsts.DEFAULT_ORGANIZATION_UID`）
- 狀態欄位：`enabled`
- 有效期欄位：`vipExpireDate`、`vip`
- 到期限制開關：`vipExpireLoginCheckEnabled`
- 成員上限欄位：`maxMembers`（同一使用者多端登入按 1 個成員統計）

:::

## 常見問題

### 1）組織被停用後，成員能否繼續使用？

不能。成員登入後會被提示組織已停用，並在確認後自動登出。

### 2）組織到期後一定會禁止登入嗎？

不一定。是否限制登入取決於是否開啟了「到期後限制登入」：開啟則限制，關閉則不強制限制。

### 3）為什麼同一使用者多端登入只算一個成員？

成員上限用於限制組織內「獨立成員數量」，避免把同一個人的多端使用誤判為多個成員。
