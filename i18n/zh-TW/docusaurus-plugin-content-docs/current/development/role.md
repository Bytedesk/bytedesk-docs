---
sidebar_label: 角色權限管理
sidebar_position: 50
---

# 角色權限管理

本文面向管理人員介紹微語（Bytedesk）管理後台的「角色與權限」功能：你可以用「角色」替人員分組，並透過給角色分配權限來控制不同人能看到哪些選單、能操作哪些功能。

如果你不是技術人員，也可以把它理解為：

- **角色** = 職務/身份（例如「組織管理員」「客服」「唯讀成員」）
- **權限** = 能做的事（例如「查看會話」「匯出資料」「修改設定」）

## 1. 核心概念

### 1.1 角色是什麼？

角色用於把使用者分組並統一授權。你可以先替成員分配一個或多個角色，再由角色決定該成員能使用哪些功能。

常見角色舉例：

- 組織管理員
- 客服坐席
- 一般成員（唯讀/有限操作）

### 1.2 權限是什麼？

權限用於控制具體功能或資源的存取，例如：

- 查看會話
- 處理工單
- 修改系統設定
- 匯出資料

建議做法：先把權限分配給角色，再把角色分配給人，這樣後續調整更清楚、也更好維護。

## 2. 權限如何理解（看不懂代碼也沒關係）

後台的權限通常會以「模組 + 動作」方式呈現（例如「會話-查看」「設定-修改」）。

你在操作時不需要理解權限的英文代號，只要依照頁面顯示的含義勾選即可。

## 3. 預設內建角色

系統會提供一些預設角色（例如「超級管理員 / 組織管理員 / 客服 / 註冊使用者」）。

管理員也可以在此基礎上：

- 新增自訂角色
- 調整角色所擁有的權限

建議：盡量避免「直接給個人很多權限」，優先透過角色來管理，後續維護更清楚。

## 4. 角色有效期

### 4.1 行為定義

角色支援設定「有效期」。到期後，該角色對應的權限會自動失效。

- 不設定有效期：長期有效
- 設定有效期：到期後，角色不再生效

### 4.2 使用建議

- 適用情境：臨時授權（外包/臨時協作/短期專案成員）。
- 建議做法：給臨時成員分配「臨時角色」，並設定有效期；到期後系統會自動收回權限。

### 4.3 管理後台（前端）表現

- 在角色新增/編輯彈窗（RoleModel）中：
	- 可選擇「有效期」日期時間
	- 不選擇則表示「永久有效」
	- 清空選擇會提交空字串，後端會將角色有效期清空為永久

- 在角色列表（RoleList）中：
	- 會顯示角色有效期
	- 若無有效期則顯示「永久」
提示：角色到期後的權限變化，可能需要使用者重新登入或刷新使用者資訊後才會完全體現。

## 5. 管理後台操作指南

### 5.1 建立角色

1. 進入【角色管理】頁面
2. 點擊【新建角色】
3. 填寫名稱與描述
4.（可選）設定「有效期」，不設定則永久
5. 保存後進入權限綁定

### 5.2 編輯角色有效期

1. 在角色列表中選擇目標角色
2. 點擊【編輯】
3. 在「有效期」中選擇到期時間；或清空為永久
4. 保存

### 5.3 配置角色權限（RoleAuthority）

在角色詳情的「權限」區域：

- 綁定權限：從權限列表選擇並新增到角色
- 移除權限：可單個移除或批次移除
- 重置權限：將角色權限恢復為系統預設值（適用於內建角色的「恢復初始授權」）

## 6. 常見問題

### 6.1 角色過期後，使用者為什麼還能操作？

如果使用者在角色到期前已登入，可能仍然持有舊的權限資訊。

通常讓使用者重新登入（或刷新使用者資訊）後，權限會按最新狀態生效。

### 6.2 永久有效與「未傳有效期」有什麼差別？

對非技術使用者來說，可以理解為：

- 不設定有效期 = 永久有效
- 清空有效期 = 改回永久有效
