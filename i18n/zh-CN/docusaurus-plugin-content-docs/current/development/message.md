---
sidebar_label: 对话消息
sidebar_position: 12
---

# 对话消息

微语系统支持多种消息类型，满足不同场景下的沟通需求。每种消息类型有其特定的数据结构和显示方式。

## 消息类型

### 文本消息

最基础的消息类型，用于发送纯文本内容。

**属性：**

- 文本内容

**使用场景：**

- 一般文字交流
- 简单问答
- 指令发送

### 图片消息

用于发送和显示图片。

**属性：**

- url: 图片链接地址
- width: 图片宽度
- height: 图片高度
- label: 图片标签（可选）

**使用场景：**

- 产品展示
- 问题截图
- 图片资料分享

### 语音消息

用于发送语音录音。

**属性：**

- url: 语音文件链接地址
- duration: 语音时长（秒）
- format: 文件格式（如ogg, mp3）
- caption: 语音说明文字（可选）
- label: 语音标签（可选）

**使用场景：**

- 语音留言
- 语音回复
- 语音指导

### 视频消息

用于发送视频内容。

**属性：**

- url: 视频链接地址
- coverUrl: 视频封面图片链接
- duration: 视频时长
- width: 视频宽度
- height: 视频高度
- format: 视频格式
- label: 视频标签（可选）

**使用场景：**

- 产品演示视频
- 操作指导视频
- 视频反馈

### 文件消息

用于发送各类文件。

**属性：**

- url: 文件链接地址
- name: 文件名称
- size: 文件大小
- type: 文件MIME类型
- label: 文件标签（可选）

**使用场景：**

- 文档传输
- 合同发送
- 资料共享

### 文档消息

专门用于各类文档的发送和显示。

**属性：**

- url: 文档文件URL
- name: 文件名称
- size: 文件大小
- type: 文件MIME类型
- caption: 文档说明文字
- thumbnail: 缩略图URL
- label: 文档标签（可选）

**使用场景：**

- PDF文档共享
- Office文档分享
- 技术文档传输

### 音频消息

用于发送音频文件。

**属性：**

- url: 音频文件链接地址
- duration: 音频时长
- format: 文件格式
- label: 音频标签（可选）

**使用场景：**

- 音乐分享
- 音频资料

### 音乐消息

专门用于音乐分享的消息类型。

**属性：**

- url: 音乐文件链接地址
- title: 音乐标题
- artist: 艺术家/歌手
- album: 专辑名称
- coverUrl: 专辑封面图片链接
- duration: 音乐时长
- label: 音乐标签（可选）

**使用场景：**

- 音乐推荐
- 音乐分享

### 位置消息

用于分享地理位置信息。

**属性：**

- latitude: 纬度
- longitude: 经度
- address: 地址文字描述
- label: 位置标签（可选）

**使用场景：**

- 位置共享
- 商家地址发送
- 集合地点说明

### 链接消息

用于分享网页链接。

**属性：**

- url: 链接地址
- title: 链接标题
- description: 链接描述
- imageUrl: 链接预览图片
- label: 链接标签（可选）

**使用场景：**

- 网页分享
- 文章推荐
- 产品链接

### 按钮消息

用于发送包含交互按钮的消息。

**属性：**

- type: 按钮类型（如web_url, postback, phone_number等）
- title: 按钮文本标题
- payload: 按钮载荷数据（用于回调）
- url: 按钮点击跳转链接（适用于web_url类型）

**使用场景：**

- 菜单选择
- 快捷操作
- 引导式交互

### 机器人消息

AI机器人自动回复的消息。

**属性：**

- 问题内容
- 答案内容
- 相关推荐

**使用场景：**

- 自动问答
- 智能客服
- 知识库查询

## 消息撤回

微语支持消息撤回功能，允许用户在发送后的一定时间内撤回已发送的消息。

**撤回限制：**

- 时间限制：消息发送后2分钟内可撤回
- 权限限制：只能撤回自己发送的消息

**撤回显示：**

- 撤回后，双方会看到"此消息已撤回"的提示

## 消息引用

支持引用回复功能，可以引用之前的消息内容进行回复，便于消息关联。
