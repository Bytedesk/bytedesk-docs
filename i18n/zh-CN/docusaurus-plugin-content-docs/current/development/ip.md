---
sidebar_label: IP管理
sidebar_position: 35
---

# IP管理

微语系统提供强大的IP管理功能，帮助您控制系统的访问权限，提高安全性。超级管理员可以通过管理后台对IP进行白名单和黑名单管理。

## 功能概述

IP管理功能主要包括：

- **白名单IP**：指定IP地址频繁访问系统不会被拉黑
- **黑名单IP**：禁止指定IP地址访问系统  
- **访问IP记录**：查看系统访问日志

## 访问路径

超级管理员登录管理后台后，在左侧菜单栏选择：**超级管理** → **用户** → **黑名单IP/白名单IP/访问IP**

## 白名单IP管理

白名单IP功能用于设置信任的IP地址列表。当系统检测到频繁访问时，白名单中的IP地址不会被自动拉黑，确保正常用户的访问不受影响。

### 使用场景

- 企业内网环境，防止内部IP被误判为恶意IP
- 合作伙伴或客户IP，确保正常业务访问不受影响
- 管理员和运维人员IP，避免因频繁操作被系统拉黑
- 重要业务IP，保证关键功能的稳定运行

### 添加白名单IP

1. 在IP管理页面，点击"添加白名单IP"按钮
2. 输入要添加的IP地址（支持单个IP或IP段）
3. 可选择添加备注说明
4. 点击"确定"保存

![ip_white_add](/img/performance/ip_white_add.png)

**支持的IP格式：**

- 单个IP：`192.168.1.100`
- IP段：`192.168.1.0/24`
- 多个IP：每行一个IP地址

### 查看白名单IP

在IP管理页面可以查看当前所有白名单IP列表，包括IP地址、添加时间、备注等信息。

![ip_white](/img/performance/ip_white.png)

### 注意事项

- 建议将管理员和运维人员IP添加到白名单中
- 定期检查白名单中的IP是否仍然需要信任
- 避免将不信任的IP添加到白名单中
- 白名单IP仍然需要遵守系统的其他安全策略

## 黑名单IP管理

黑名单IP功能用于禁止特定IP地址访问系统，有效防止恶意攻击和滥用。

### 使用场景

- 阻止恶意攻击IP
- 限制异常访问行为
- 临时封禁违规用户IP

### 添加黑名单IP

1. 在IP管理页面，点击"添加黑名单IP"按钮
2. 输入要封禁的IP地址
3. 可选择添加封禁原因
4. 设置封禁时长（永久或指定时间）
5. 点击"确定"保存

![ip_black_add](/img/performance/ip_black_add.png)

### 查看黑名单IP

在IP管理页面可以查看当前所有黑名单IP列表，包括IP地址、封禁原因、封禁时间、到期时间等信息。

![ip_black](/img/performance/ip_black.png)

### 注意事项

- 添加黑名单前请确认IP地址正确
- 定期清理过期的黑名单记录
- 避免误封正常用户的IP地址

## 访问IP记录

访问IP记录功能可以查看系统的访问日志，帮助您监控和分析访问情况。

### 功能特点

- 实时记录所有访问IP
- 显示访问时间、IP地址、访问页面等信息
- 支持按时间范围筛选
- 帮助识别异常访问行为

### 查看访问记录

在IP管理页面点击"访问IP"标签，可以查看详细的访问记录。

![ip_access](/img/performance/ip_access.png)

## 最佳实践

### 安全建议

1. **定期检查访问日志**：及时发现异常访问行为
2. **合理使用白名单**：在安全要求高的环境中启用白名单
3. **谨慎使用黑名单**：避免误封正常用户
4. **备份IP配置**：定期备份重要的IP配置信息

### 操作流程

1. **初始设置**：
   - 添加管理员和常用IP到白名单
   - 启用白名单功能（如需要）

2. **日常维护**：
   - 定期查看访问日志
   - 及时处理异常访问
   - 更新IP配置

3. **应急处理**：
   - 发现攻击时快速添加黑名单
   - 误封时及时解除黑名单
   - 联系技术支持获取帮助

## 常见问题

**Q: 如何快速封禁一个IP地址？**
A: 在访问IP记录中找到目标IP，点击"加入黑名单"即可快速封禁。

**Q: 白名单和黑名单的优先级是什么？**
A: 白名单优先级高于黑名单。如果IP同时在白名单和黑名单中，以白名单为准。

**Q: 支持IPv6地址吗？**
A: 当前版本主要支持IPv4地址，IPv6支持正在开发中。

**Q: 如何批量导入IP地址？**
A: 可以通过系统API接口批量导入IP地址，具体请联系技术支持。
