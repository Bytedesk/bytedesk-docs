---
sidebar_label: 角色权限管理
sidebar_position: 50
---

# 角色权限管理

本文面向管理人员介绍微语（Bytedesk）管理后台的「角色与权限」功能：你可以用“角色”来给人员分组，并通过给角色分配权限来控制不同人能看到哪些菜单、能操作哪些功能。

如果你不是技术人员，也可以把它理解为：

- **角色** = 岗位/身份（例如“组织管理员”“客服”“只读成员”）
- **权限** = 能做的事（例如“查看会话”“导出数据”“修改设置”）

## 1. 核心概念

### 1.1 角色是什么？

角色用于把用户分组并统一授权。你可以先给成员分配一个或多个角色，然后由角色来决定该成员能使用哪些功能。

常见角色举例：

- 组织管理员
- 客服坐席
- 普通成员（只读/有限操作）

### 1.2 权限是什么？

权限用于控制具体功能或资源的访问。例如：

- 查看会话
- 处理工单
- 修改系统设置
- 导出数据

你可以把权限分配给角色，再把角色分配给人，从而实现“权限随岗位走”。

## 2. 权限如何理解（看不懂英文也没关系）

后台的权限通常会以“模块 + 动作”的方式展示（例如“会话-查看”“设置-修改”）。

你在使用时不需要理解权限的英文代号，只要根据页面展示的中文含义来勾选即可。

## 3. 默认内置角色

系统会提供一些默认角色（例如“超级管理员 / 组织管理员 / 客服 / 注册用户”）。

管理员可以在此基础上继续：

- 新增自定义角色
- 调整角色所拥有的权限

建议：尽量减少“给个人直接授予大量权限”的做法，优先通过角色来管理，后续维护更清晰。

## 4. 角色有效期

### 4.1 行为定义

角色支持设置“有效期”。到期后，该角色对应的权限会自动失效。

- 不设置有效期：长期有效
- 设置了有效期：到期后，该角色不再生效

### 4.2 使用建议

- 适用场景：临时授权（外包/临时协作/短期项目成员）。
- 建议做法：给临时成员分配“临时角色”，并设置有效期；到期后系统会自动收回权限。

### 4.3 管理后台（前端）表现

- 在角色新增/编辑弹窗（RoleModel）中：
	- 可选择“有效期”日期时间
	- 不选择则表示“永久有效”
	- 清空选择会提交空字符串，后端会将角色有效期清空为永久

- 在角色列表（RoleList）中：
	- 会显示角色有效期
	- 若无有效期则显示“永久”
提示：角色到期后的权限变化，可能需要用户重新登录或刷新用户信息后才会完全体现。

## 5. 管理后台操作指南

### 5.1 创建角色

1. 进入【角色管理】页面
2. 点击【新建角色】
3. 填写名称与描述
4. （可选）设置“有效期”，不设置则永久
5. 保存后进入权限绑定

### 5.2 编辑角色有效期

1. 在角色列表中选择目标角色
2. 点击【编辑】
3. 在“有效期”中选择到期时间；或清空为永久
4. 保存

### 5.3 配置角色权限（RoleAuthority）

在角色详情的“权限”区域：

- 绑定权限：从权限列表选择并添加到角色
- 移除权限：可单个移除或批量移除
- 重置权限：将角色权限恢复为系统默认值（适用于内置角色的“恢复初始授权”）

## 6. 常见问题

### 6.1 角色过期后，用户为什么还能操作？

如果用户在角色到期前已经登录，可能仍然持有旧的权限信息。

通常让用户重新登录（或刷新用户信息）后，权限会按最新状态生效。

### 6.2 永久有效与“未传有效期”有什么区别？

对非技术使用者来说，可以理解为：

- 不设置有效期 = 永久有效
- 清空有效期 = 改回永久有效
